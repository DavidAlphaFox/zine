{% extends "base.jinja" %}

{% block content %}
    {% for season in seasons | reverse %}
        <div class="p-4 md:p-8 mx-4 my-6 bg-white
                    shadow-xl shadow-slate-700/10 ring-1 ring-gray-900/5">
            <div class="text-2xl text-center m-4 transition hover:scale-110 duration-500">
                <a class="before:block before:absolute before:-inset-1 before:-skew-y-3 before:bg-primary relative inline-block" 
                   href="{{ season.slug }}">
                    <div class="first-letter:text-4xl first-letter:font-bold relative text-primary-text px-10">{{ season.title }}</div>
                </a>
            </div>

            <div class="flex flex-wrap flex-col sm:flex-row sm:justify-between items-center">
                {% for article in featured(articles = season.articles) %}
                <div class="mt-8 sm:max-w-md w-full">
                    <a href="/{{ season.slug }}/{{ article.slug }}">
                        <div class="relative mx-auto drop-shadow-xl">
                            <img class="z-0 w-full max-h-52 md:max-h-56 object-cover" src="{{ article.cover }}" alt="{{ article.title }}"/>
                            <div class="absolute w-full bottom-0 p-3 z-10 text-lg text-white bg-black/50 line-clamp-2">
                                {{ article.title }}
                            </div>
                        </div>
                    </a>
                </div>
                {% endfor %}
                <div class="mt-8 flex flex-col justify-between w-full mx-auto sm:max-w-md">
                    {% set article = pick_non_featured_article(articles = season.articles) %}
                    {% if article %}
                    <a href="/{{ season.slug }}/{{ article.slug }}">
                        <div class="flex items-center border border-gray-200">
                            <img class="w-32 h-28 object-cover" src="{{ article.cover }}" alt="{{ article.title }}">
                            <span class="px-2 line-clamp-2">{{ article.title }}</span>
                        </div>
                    </a>
                    {% endif %}
                    <a href="{{ season.slug }}" class="p-3 px-12 mx-auto my-8 bg-primary text-primary-text font-bold rounded transition hover:scale-110 duration-500">
                        查看全部
                    </a>
                </div>
            </div>
        </div>
        
    {% endfor %}
{% endblock content %}