{% extends "base.jinja" %}

{% block content %}
    {% for season in seasons | reverse %}
        <div class="p-4 md:p-8 mx-4 my-6 bg-white flex flex-col
                    shadow-xl shadow-slate-700/10 ring-1 ring-gray-900/5">
            <div class="flex flex-col sm:flex-row">
                <img class="sm:w-96 h-60 object-cover" src="{{ season.cover }}" alt="{{ season.title }}">
                <div class="mt-4 sm:mt-0 sm:pl-6">
                    <div class="text-3xl font-bold my-4 hover:underline"><a href="{{ season.slug }}">{{ season.title }}</a></div>
                    <p>{{ season.summary }}</p>
                    <div class="text-gray-500 mt-4">已更新 {{ season.articles | length }} 期 / 共 10 期</div>
                </div>
            </div>
        </div>
        <ul class="mx-4 mt-8 grid grid-cols-1 lg:grid-cols-2 gap-0">
            {% for article in editor_choice(articles = season.articles) %}
                <div class="my-6">
                    <a href="/{{ season.slug }}/{{ article.slug }}">
                        {% if loop.index % 2 == 0 %}
                            {% set margin = "lg:mr-0" %}
                        {% else %}
                            {% set margin = "lg:ml-0" %}
                        {% endif %}
                        <div class="relative {{ margin }} mx-auto drop-shadow-xl sm:min-w-md sm:max-w-md">
                            <img class="z-0 w-full max-h-52 md:max-h-56 object-cover" src="{{ article.cover }}" alt="{{ article.title }}"/>
                            <div class="absolute w-full bottom-0 p-3 z-10 text-lg text-white bg-black/50">
                                {{ article.title }}
                            </div>
                        </div>
                    </a>
                </div>
            {% endfor %}
        </ul>
    {% endfor %}
{% endblock content %}